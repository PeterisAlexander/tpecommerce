<!DOCTYPE html>
<html xmlns:th="https://www.thymeleaf.org" lang="fr">
<head>
    <meta charset="UTF-8">
    <title>ajout/edit</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
</head>
<body>

<main class="container">
    <h1 th:if="${produit.idProduit==0}">Ajouter un produit</h1>
    <h1 th:if="${produit.idProduit>0}">Editer un produit</h1>
    <hr>

    <div class="alert alert-danger" role="alert" th:if="${error != null && error.length() > 0}" th:text="${error}">
    </div>

    <form name="monForm" action="" method="post">
        <div class="form-line mb-4">
            <label class="form-label">Nom du produit </label>
            <input class="form-control" minlength="3" type="text" name="nomProduit" placeholder="Nom du produit" required th:value="${produit.nomProduit}">
        </div>
        <div class="form-line mb-4">
            <label class="form-label">Quantité </label>
            <input class="form-control" type="text" name="quantite" placeholder="Quantite" required th:value="${produit.quantite}">
        </div>
        <div class="form-line mb-4">
            <label class="form-label">Prix Unitaire </label>
            <input class="form-control" type="text" name="prixUnitaire" placeholder="Prix Unitaire" required th:value="${produit.prixUnitaire}">
        </div>
        <div class="form-line mb-4">
            <label class="form-label">Unites en stock</label>
            <input class="form-control" type="text" name="unitesStock" placeholder="Unites en stock" required th:value="${produit.unitesStock}">
        </div>
        <div class="form-line mb-4">
            <label class="form-label">Unites commandees</label>
            <input class="form-control" type="text" name="unitesCommandees" placeholder="Unites Commandees" required th:value="${produit.unitesCommandees}">
        </div>
        <div class="form-line mb-4">
            <label class="form-label">Disponibilité</label>
            <select class="form-select" name="indisponible" required id="indisponible">
                <option th:utext="Oui" th:value="${produit.indisponible = true}"></option>
                <option th:utext="Non" th:value="${produit.indisponible = false}"></option>
            </select>
        </div>
        <div class="form-line mb-4">
            <label>Description</label>
            <input class="form-control" type="text" name="description" placeholder="Description"  th:value="${produit.description}">
        </div>
        <div class="form-line mb-4">
            <label class="form-label">Catégorie</label>
            <div id="cities-content">
                <select class="form-select" name="codeCategorie" required id="categorie">
                    <option value="">Sélectionner une categorie</option>
                    <option th:each="categorie: ${categories}" th:value="${categorie.idCategorie}"
                            th:utext="${categorie.nomCategorie}" th:selected="${ categorie.idCategorie == produit.codeCategorie?.idCategorie }" ></option>
                </select>
            </div>
        </div>


        <div class="form-line mb-4">
            <button type="submit" class="btn btn-primary">Envoyer</button>
        </div>

    </form>

</main>

</body>
</html>